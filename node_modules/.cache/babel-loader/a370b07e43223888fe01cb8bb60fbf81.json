{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/ped/Desktop/jolimoi-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/ped/Desktop/jolimoi-test/src/components/JobSearch/JobSearchContainer.js\";\nimport * as React from 'react';\nimport { JobSearch } from '../ProductSearch/ProductSearch';\nimport JobList from './JobList/JobList';\n\nvar JobSearchContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(JobSearchContainer, _React$Component);\n\n  var _super = _createSuper(JobSearchContainer);\n\n  function JobSearchContainer() {\n    var _this;\n\n    _classCallCheck(this, JobSearchContainer);\n\n    _this = _super.call(this);\n\n    _this.fetchProducts = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(query) {\n        var apiUrl, res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  isLoading: true\n                });\n\n                apiUrl = '/positions.json?description=';\n                _context.prev = 2;\n                _context.next = 5;\n                return fetch(apiUrl + query);\n\n              case 5:\n                res = _context.sent;\n                _context.next = 8;\n                return res.json();\n\n              case 8:\n                data = _context.sent;\n\n                _this.setState({\n                  items: data,\n                  isLoading: false,\n                  total: data.length\n                });\n\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n\n                _this.setState({\n                  error: _context.t0,\n                  isLoading: false\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 12]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onSearchInputChange = function (e) {\n      _this.setState({\n        searchValue: e.target.value.trim()\n      });\n    };\n\n    _this.resetInput = function () {\n      _this.setState({\n        searchValue: ''\n      });\n    };\n\n    _this.onSearch = function (e) {\n      e.preventDefault();\n\n      _this.fetchProducts(_this.state.searchValue);\n\n      _this.resetInput();\n    };\n\n    _this.state = {\n      searchValue: '',\n      isLoading: false,\n      items: [],\n      error: null,\n      total: null\n    };\n    return _this;\n  }\n\n  _createClass(JobSearchContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          searchValue = _this$state.searchValue,\n          items = _this$state.items,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error,\n          total = _this$state.total,\n          showItems = _this$state.showItems;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(JobSearch, {\n        searchValue: searchValue,\n        onSearch: this.onSearch,\n        onSearchInputChange: this.onSearchInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(JobList, {\n        items: items,\n        isLoading: isLoading,\n        errorMessage: error,\n        total: total,\n        pageSize: showItems,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return JobSearchContainer;\n}(React.Component);\n\nexport default JobSearchContainer;","map":{"version":3,"sources":["/Users/ped/Desktop/jolimoi-test/src/components/JobSearch/JobSearchContainer.js"],"names":["React","JobSearch","JobList","JobSearchContainer","fetchProducts","query","setState","isLoading","apiUrl","fetch","res","json","data","items","total","length","error","onSearchInputChange","e","searchValue","target","value","trim","resetInput","onSearch","preventDefault","state","showItems","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { JobSearch } from '../ProductSearch/ProductSearch';\nimport JobList from './JobList/JobList';\n\nclass JobSearchContainer extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            searchValue: '',\n            isLoading: false,\n            items: [],\n            error: null,\n            total: null\n        }\n    }\n\n    fetchProducts = async (query) => {\n        this.setState({ isLoading: true })\n        const apiUrl = '/positions.json?description=';\n\n        try {\n            const res = await fetch(apiUrl + query);\n            const data = await res.json();\n\n            this.setState({\n                items: data,\n                isLoading: false,\n                total: data.length\n            })\n        } catch (error) {\n            this.setState({ error, isLoading: false})\n        }\n\n    }\n\n    onSearchInputChange = (e) => {\n        this.setState({ searchValue: e.target.value.trim()})\n    }\n\n    resetInput = () => {\n        this.setState ({ searchValue: '' })\n    }\n\n    onSearch = (e) => {\n        e.preventDefault();\n        this.fetchProducts(this.state.searchValue)\n        this.resetInput()\n    }\n\n    render() {\n        const { searchValue, items, isLoading, error, total, showItems} = this.state;\n\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <JobSearch\n                        searchValue={searchValue}\n                        onSearch={this.onSearch} \n                        onSearchInputChange={this.onSearchInputChange}/>\n                    <JobList  \n                        items={items} \n                        isLoading={isLoading}\n                        errorMessage={error}\n                        total={total}\n                        pageSize={showItems}\n                    />\n                </div>\n            </div> \n        )\n    }\n}\n\nexport default JobSearchContainer;"]},"metadata":{},"sourceType":"module"}